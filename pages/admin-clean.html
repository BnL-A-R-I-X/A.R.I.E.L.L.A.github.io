<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>BNL CLASSIFIED // Administrative Terminal</title>
  <link rel="stylesheet" href="../css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto&display=swap" rel="stylesheet">
</head>
<body>

<!-- Security Access Screen -->
<div id="security-screen" class="security-overlay">
  <div class="security-panel">
    <div class="security-header">
      <img src="../assets/logos/axiom.png" alt="BNL Logo" class="security-logo">
      <h1>🔒 BNL SECURITY CHECKPOINT</h1>
      <p class="security-warning">ADMINISTRATIVE TERMINAL ACCESS</p>
      <p class="security-subtitle">Level 7 Clearance Required</p>
    </div>
    
    <div class="access-form">
      <label for="pincode" class="pin-label">Enter Security Code:</label>
      <input type="password" id="pincode" class="pin-input" maxlength="4" placeholder="••••">
      <button id="access-btn" class="access-button">GRANT ACCESS</button>
      <button id="cancel-btn" class="cancel-button">CANCEL</button>
    </div>
    
    <div class="security-notice">
      <p>⚠️ UNAUTHORIZED ACCESS ATTEMPT WILL BE LOGGED</p>
      <p>BNL Security Protocol 3272-X Active</p>
    </div>
  </div>
</div>

<!-- Main Content (Hidden by default) -->
<div id="main-content" class="hidden">
  <header class="site-header">
    <div class="header-inner">
      <img src="../assets/logos/axiom.png" alt="BNL Axiom Logo" class="bnl-logo small-centered">
      <div>
        <h1>🔒 USS AXIOM // ADMINISTRATIVE TERMINAL</h1>
        <p class="subtext">Systems Management & Operations Control</p>
        <p class="status">STATUS: SECURED — CLEARANCE: <strong>LEVEL 7 (ADMIN)</strong> — USER: <strong>A.R.I.E.L.L.A</strong></p>
        <div class="status-widgets">
          SHIP TIME: <strong id="shipTime"></strong> |
          SECTOR: <strong>BNL-7 / ALPHA</strong> |
          UPLINK: <strong>ENCRYPTED</strong>
        </div>
      </div>
    </div>
  </header>

  <nav class="nav-bar nav-right">
    <a href="../index.html" class="nav-btn">HOME</a>
    
    <div class="nav-dropdown">
        <div class="nav-btn nav-dropdown-toggle">ARCHIVES</div>
        <div class="nav-dropdown-menu">
            <div class="nav-dropdown-header">📁 BNL Archives</div>
            <a href="ocs.html" class="nav-dropdown-item">OC Database</a>
            <a href="#" class="nav-dropdown-item disabled coming-soon">Character Rankings [MAINTENANCE]</a>
        </div>
    </div>
    
    <div class="nav-dropdown">
        <div class="nav-btn nav-dropdown-toggle">PROFILE</div>
        <div class="nav-dropdown-menu">
            <div class="nav-dropdown-header">👤 User Profile</div>
            <a href="bio.html" class="nav-dropdown-item">Biography</a>
            <a href="socials.html" class="nav-dropdown-item">Social Links</a>
        </div>
    </div>
    
    <div class="nav-dropdown">
        <div class="nav-btn nav-dropdown-toggle">COMMUNITY</div>
        <div class="nav-dropdown-menu">
            <div class="nav-dropdown-header">🎨 Community Hub</div>
            <a href="#" class="nav-dropdown-item disabled coming-soon">Art Gallery</a>
            <a href="#" class="nav-dropdown-item disabled coming-soon">User Submissions</a>
            <a href="#" class="nav-dropdown-item disabled coming-soon">Featured Works</a>
        </div>
    </div>
    
    <div class="nav-dropdown">
        <div class="nav-btn nav-dropdown-toggle secret-btn current">ADMIN</div>
        <div class="nav-dropdown-menu">
            <div class="nav-dropdown-header">🔧 Admin Panel</div>
            <a href="admin-v2.html" class="nav-dropdown-item">Commission Admin</a>
            <a href="admin.html" class="nav-dropdown-item active">Site Admin</a>
        </div>
    </div>
  </nav>

  <section class="terminal-intro">
    <p>
      Welcome to the <strong>BNL Administrative Terminal</strong>—a secure system management interface operated by A.R.I.E.L.L.A.  
      This terminal provides access to ship operations, data management, and system administration.
      All actions are logged and monitored per BNL Security Protocol 3272-X.
      <em>Unauthorized access attempts will result in immediate lockdown and security team notification.</em>
    </p>
    <div style="background: rgba(255, 152, 0, 0.1); border: 1px solid #ff9800; border-radius: 8px; padding: 15px; margin-top: 15px;">
      <p style="color: #ff9800; margin: 0; font-weight: bold;">
        System administration tools and utilities are accessible through the secure interface below.
      </p>
    </div>
  </section>

  <main class="admin-main">
    <div class="admin-sections">
      
      <!-- Data Management Section -->
      <section class="admin-section">
        <h2>📊 Data Management</h2>
        <div class="admin-tools">
          <div class="tool-group">
            <h3>Character Rankings System</h3>
            <button id="export-rankings" class="admin-btn">
              📊 Download Rankings Data
            </button>
            <button id="clear-rankings" class="admin-btn danger">
              🗑️ Clear All Rankings
            </button>
            <div class="tool-info">
              <p><strong>Storage:</strong> Local browser data management</p>
              <p><strong>Format:</strong> JSON export with timestamp</p>
            </div>
          </div>
          
          <div class="tool-group">
            <h3>System Logs</h3>
            <button class="admin-btn" onclick="window.customDialog.showAlert('Feature coming soon! System log export will be available in future updates.')">
              📋 Export System Logs
            </button>
            <button class="admin-btn" onclick="window.customDialog.showAlert('Feature coming soon! Terminal history export will be available in future updates.')">
              💻 Export Terminal History
            </button>
          </div>
        </div>
      </section>

      <!-- System Operations Section -->
      <section class="admin-section">
        <h2>⚙️ System Operations</h2>
        <div class="admin-tools">
          <div class="tool-group">
            <h3>Terminal Access</h3>
            <a href="information.html" class="admin-btn">
              💻 Open Information Terminal
            </a>
            <button class="admin-btn" onclick="window.customDialog.showAlert('All terminal systems operational. Last diagnostic: ' + new Date().toLocaleString())">
              🔧 Run System Diagnostics
            </button>
          </div>
          
          <div class="tool-group">
            <h3>Security Monitoring</h3>
            <button class="admin-btn" onclick="window.customDialog.showAlert('Current security status: GREEN\\nActive sessions: 1\\nLast threat scan: ' + new Date().toLocaleString())">
              🛡️ Security Status
            </button>
            <button class="admin-btn" onclick="window.customDialog.showAlert('Feature coming soon! Advanced security monitoring will be available in future updates.')">
              📊 Access Logs
            </button>
          </div>
        </div>
      </section>

      <!-- Easter Egg Testing Section -->
      <section class="admin-section">
        <h2>🥚 System Testing</h2>
        <div class="admin-tools">
          <div class="tool-group">
            <h3>Easter Egg Validation</h3>
            <button class="admin-btn" onclick="testEasterEgg('wall-e')">
              🤖 Test WALL-E Command
            </button>
            <button class="admin-btn" onclick="testEasterEgg('artcode')">
              🎨 Test Art Collaboration
            </button>
            <button class="admin-btn" onclick="testEasterEgg('eve')">
              📡 Test EVE Protocol
            </button>
            <div class="tool-info">
              <p><strong>Purpose:</strong> Validate hidden terminal commands</p>
              <p><strong>Status:</strong> All easter eggs operational</p>
            </div>
          </div>
          
          <div class="tool-group">
            <h3>Special Events Testing</h3>
            <button id="earth-day-toggle" class="admin-btn" onclick="toggleEarthDay()">
              🌍 Toggle Earth Day Mode
            </button>
            <button id="pride-month-toggle" class="admin-btn" onclick="togglePrideMonth()">
              🏳️‍🌈 Toggle Pride Month Mode
            </button>
            <button id="trans-awareness-toggle" class="admin-btn" onclick="toggleTransAwareness()">
              🏳️‍⚧️ Toggle Trans Awareness Mode
            </button>
            <button id="holiday-season-toggle" class="admin-btn" onclick="toggleHolidaySeason()">
              🎄 Toggle Holiday Season Mode
            </button>
            <div class="tool-info">
              <p><strong>Purpose:</strong> Test seasonal and special event themes</p>
              <p><strong>Note:</strong> Changes are temporary and reset on page reload</p>
            </div>
          </div>
        </div>
      </section>

    </div>
  </main>

  <section class="system-footer">
    <p>© 2025 Ariella Fawnbrook // USS Axiom Administrative Terminal</p>
    <p>BNL / AXIOM ADMIN INTERFACE — VERSION 3.0</p>
  </section>

  <div class="status-ticker">
    <marquee behavior="scroll" direction="left">
      ADMIN ACCESS: Logged into administrative terminal. — SECURITY LEVEL: MAXIMUM — All actions are monitored and logged — SYSTEM STATUS: OPERATIONAL
    </marquee>
  </div>

</div>

<script>
// Security PIN system
document.addEventListener('DOMContentLoaded', function() {
  const pinInput = document.getElementById('pincode');
  const accessBtn = document.getElementById('access-btn');
  const cancelBtn = document.getElementById('cancel-btn');
  const securityScreen = document.getElementById('security-screen');
  const mainContent = document.getElementById('main-content');
  
  const correctPin = '1701'; // USS Enterprise NCC-1701 reference
  
  function checkAccess() {
    const enteredPin = pinInput.value;
    if (enteredPin === correctPin) {
      securityScreen.classList.add('hidden');
      mainContent.classList.remove('hidden');
      
      // Initialize ship time
      if (typeof initializeShipTime === 'function') {
        initializeShipTime();
      }
    } else {
      pinInput.style.borderColor = '#f44336';
      pinInput.style.animation = 'shake 0.5s';
      setTimeout(() => {
        pinInput.style.borderColor = '';
        pinInput.style.animation = '';
        pinInput.value = '';
      }, 500);
    }
  }
  
  function cancelAccess() {
    window.location.href = '../index.html';
  }
  
  accessBtn.addEventListener('click', checkAccess);
  cancelBtn.addEventListener('click', cancelAccess);
  
  pinInput.addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
      checkAccess();
    }
  });
  
  // Auto-focus pin input
  pinInput.focus();
});

// Data Management Functions
function exportRankings() {
  const rankings = localStorage.getItem('characterRankings');
  if (rankings) {
    const dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(rankings);
    const downloadAnchorNode = document.createElement('a');
    downloadAnchorNode.setAttribute("href", dataStr);
    downloadAnchorNode.setAttribute("download", "axiom_rankings_" + new Date().toISOString().split('T')[0] + ".json");
    document.body.appendChild(downloadAnchorNode);
    downloadAnchorNode.click();
    downloadAnchorNode.remove();
    
    window.customDialog.showAlert('Rankings data exported successfully!');
  } else {
    window.customDialog.showAlert('No rankings data found to export.');
  }
}

function clearRankings() {
  window.customDialog.showConfirm(
    'Are you sure you want to clear all character rankings data? This action cannot be undone.',
    function() {
      localStorage.removeItem('characterRankings');
      window.customDialog.showAlert('All rankings data has been cleared.');
    }
  );
}

// Easter Egg Testing Functions
function testEasterEgg(command) {
  window.customDialog.showAlert(`Testing easter egg command: "${command}"\n\nResult: Command recognized and functional!\nRedirect behavior: ${command === 'wall-e' ? 'Character page' : command === 'artcode' ? 'Collaboration info' : 'Terminal response'}`);
}

// Special Event Toggle Functions
function toggleEarthDay() {
  if (typeof EarthDaySpecial !== 'undefined') {
    EarthDaySpecial.toggleTestMode();
    updateEarthDayButton();
  }
}

function togglePrideMonth() {
  if (typeof PrideMonthSpecial !== 'undefined') {
    PrideMonthSpecial.toggleTestMode();
    updatePrideMonthButton();
  }
}

function toggleTransAwareness() {
  if (typeof TransAwarenessSpecial !== 'undefined') {
    TransAwarenessSpecial.toggleTestMode();
    updateTransAwarenessButton();
  }
}

function toggleHolidaySeason() {
  if (typeof HolidaySeasonSpecial !== 'undefined') {
    HolidaySeasonSpecial.toggleTestMode();
    updateHolidaySeasonButton();
  }
}

// Update button states
function updateEarthDayButton() {
  const earthToggle = document.getElementById('earth-day-toggle');
  if (earthToggle && typeof EarthDaySpecial !== 'undefined') {
    if (EarthDaySpecial.isTestModeActive()) {
      earthToggle.innerHTML = '🌍 Disable Earth Day Mode';
      earthToggle.style.background = 'linear-gradient(45deg, #4caf50, #2196f3)';
    } else {
      earthToggle.innerHTML = '🌍 Toggle Earth Day Mode';
      earthToggle.style.background = '';
    }
  }
}

function updatePrideMonthButton() {
  const prideToggle = document.getElementById('pride-month-toggle');
  if (prideToggle && typeof PrideMonthSpecial !== 'undefined') {
    if (PrideMonthSpecial.isTestModeActive()) {
      prideToggle.innerHTML = '🏳️‍🌈 Disable Pride Month Mode';
      prideToggle.style.background = 'linear-gradient(45deg, #e40303, #ff8c00, #ffed00, #008018, #004cff, #732982)';
    } else {
      prideToggle.innerHTML = '🏳️‍🌈 Toggle Pride Month Mode';
      prideToggle.style.background = '';
    }
  }
}

function updateTransAwarenessButton() {
  const transToggle = document.getElementById('trans-awareness-toggle');
  if (transToggle && typeof TransAwarenessSpecial !== 'undefined') {
    if (TransAwarenessSpecial.isTestModeActive()) {
      transToggle.innerHTML = '🏳️‍⚧️ Disable Trans Awareness Mode';
      transToggle.style.background = 'linear-gradient(45deg, #5bcefa, #f5a9b8, #ffffff)';
    } else {
      transToggle.innerHTML = '🏳️‍⚧️ Toggle Trans Awareness Mode';
      transToggle.style.background = '';
    }
  }
}

function updateHolidaySeasonButton() {
  const holidayToggle = document.getElementById('holiday-season-toggle');
  if (holidayToggle && typeof HolidaySeasonSpecial !== 'undefined') {
    if (HolidaySeasonSpecial.isTestModeActive()) {
      holidayToggle.innerHTML = '🎄 Disable Holiday Season Mode';
      holidayToggle.style.background = 'linear-gradient(45deg, #c41e3a, #228b22)';
    } else {
      holidayToggle.innerHTML = '🎄 Toggle Holiday Season Mode';
      holidayToggle.style.background = '';
    }
  }
}

// Event listeners for data management
document.addEventListener('DOMContentLoaded', function() {
  const exportBtn = document.getElementById('export-rankings');
  const clearBtn = document.getElementById('clear-rankings');
  
  if (exportBtn) exportBtn.addEventListener('click', exportRankings);
  if (clearBtn) clearBtn.addEventListener('click', clearRankings);
  
  // Update special event button states
  setTimeout(() => {
    updateEarthDayButton();
    updatePrideMonthButton();
    updateTransAwarenessButton();
    updateHolidaySeasonButton();
  }, 100);
});
</script>

<script src="../js/custom-dialogs.js"></script>
<script src="../js/nav-dropdowns.js"></script>
<script src="../js/shiptime.js"></script>
<script src="../js/earth-day-special.js"></script>
<script src="../js/pride-month-special.js"></script>
<script src="../js/trans-awareness-special.js"></script>
<script src="../js/holiday-season-special.js"></script>

</body>
</html>
